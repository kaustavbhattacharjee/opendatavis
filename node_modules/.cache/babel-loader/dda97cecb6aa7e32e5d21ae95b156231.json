{"ast":null,"code":"var _jsxFileName = \"/Users/mr.mamun/Downloads/attribute-click-event/dist/reorderablemat3/src/HeatMap.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport * as d3 from 'd3';\n\nclass BarChart extends Component {\n  constructor(props) {\n    super(props);\n    this.createHeatMap = this.createHeatMap.bind(this);\n  }\n\n  componentDidMount() {\n    this.createHeatMap();\n  }\n\n  componentDidUpdate() {\n    this.createHeatMap();\n  } //-------------------------------------------------------------------------------------CreateHeatMap starts here\n\n\n  createHeatMap() {\n    const node = this.node;\n    var itemSize = 22,\n        cellSize = itemSize - .5,\n        margin = {\n      top: 120,\n      right: 20,\n      bottom: 20,\n      left: 110\n    };\n    var width = 950 - margin.right - margin.left,\n        height = 500 - margin.top - margin.bottom;\n    /*\n    var data=[\n      ['Dataset1','Hello everyone! I am mamun',1],\n      ['Dataset1','Good morning',0],\n      ['Dataset1','Hello everyone! I am',1],\n      ['Dataset1','Good morning Everyoe',1],\n      ['Dataset2','Hello everyone! I am mamun',1],\n      ['Dataset2','Good morning Everyoe',0],  \n      ['Dataset2','Hello everyone! I am',1],\n      ['Dataset2','Good morning',0],\n      ['Dataset3','Hello everyone! I am mamun',1],\n      ['Dataset3','Good morning Everyoe',0],  \n      ['Dataset3','Hello everyone! I am',1],\n      ['Dataset3','Good morning',0]\n      ]\n      */\n\n    var data = this.props.datasets; //console.log(data);\n\n    var x_elements = d3.set(data.map(function (d) {\n      return d[1];\n    })).values(); //console.log(x_elements);\n\n    var y_elements = d3.set(data.map(function (d) {\n      return d[0];\n    })).values(); //------------------------------------------------------- Ordinal Scaling for X axis\n\n    var xScale = d3.scale.ordinal().domain(x_elements).rangeBands([0, x_elements.length * itemSize]);\n    var xAxis = d3.svg.axis().scale(xScale).tickFormat(function (d) {\n      return d;\n    }).orient(\"top\"); //------------------------------------------------------- Ordinal Scaling for Y axis\n\n    var yScale = d3.scale.ordinal().domain(y_elements).rangeBands([0, y_elements.length * itemSize]);\n    var yAxis = d3.svg.axis().scale(yScale).tickFormat(function (d) {\n      return d;\n    }).orient(\"left\"); //------------------------------------------------------- d3 Select starts here\n\n    var svg = d3.select(node).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    svg.selectAll('rect').data(data).enter().append('g').append('rect').attr('class', 'cell').attr('width', cellSize).attr('height', cellSize).attr('y', function (d) {\n      return yScale(d[0]);\n    }).attr('x', function (d) {\n      return xScale(d[1]);\n    }).attr('fill', d => d[2] == 1 ? '#fe9922' : \"grey\"); //------------------------------------------------------- Axis\n\n    svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).selectAll('text').on('click', (d, i) => console.log(d)).attr('font-weight', 'normal');\n    svg.append(\"g\").attr(\"class\", \"x axis\").call(xAxis).selectAll('text').attr('font-weight', 'normal').style(\"text-anchor\", \"start\").attr(\"dx\", \".8em\").attr(\"dy\", \".5em\").on('click', (d, i) => this.props.clickhandler).attr(\"transform\", function (d) {\n      return \"rotate(-45)\";\n    });\n  }\n\n  render() {\n    return React.createElement(\"svg\", {\n      ref: node => this.node = node,\n      width: 500,\n      height: 500,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default BarChart;","map":{"version":3,"sources":["/Users/mr.mamun/Downloads/attribute-click-event/dist/reorderablemat3/src/HeatMap.js"],"names":["React","Component","d3","BarChart","constructor","props","createHeatMap","bind","componentDidMount","componentDidUpdate","node","itemSize","cellSize","margin","top","right","bottom","left","width","height","data","datasets","x_elements","set","map","d","values","y_elements","xScale","scale","ordinal","domain","rangeBands","length","xAxis","svg","axis","tickFormat","orient","yScale","yAxis","select","append","attr","selectAll","enter","call","on","i","console","log","style","clickhandler","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nimport * as d3 from 'd3'\nclass BarChart extends Component {\n   constructor(props){\n      super(props)\n      this.createHeatMap = this.createHeatMap.bind(this)\n   }\n   componentDidMount() {\n      this.createHeatMap()\n   }\n   componentDidUpdate() {\n      this.createHeatMap()\n   }\n   //-------------------------------------------------------------------------------------CreateHeatMap starts here\n   createHeatMap() {\n    const node = this.node\n    var itemSize = 22,\n    cellSize = itemSize-.5,\n    margin = {top: 120, right: 20, bottom: 20, left: 110};\n    \n    var width = 950 - margin.right - margin.left,\n    height = 500 - margin.top - margin.bottom;\n    /*\n    var data=[\n      ['Dataset1','Hello everyone! I am mamun',1],\n      ['Dataset1','Good morning',0],\n      ['Dataset1','Hello everyone! I am',1],\n      ['Dataset1','Good morning Everyoe',1],\n      ['Dataset2','Hello everyone! I am mamun',1],\n      ['Dataset2','Good morning Everyoe',0],  \n      ['Dataset2','Hello everyone! I am',1],\n      ['Dataset2','Good morning',0],\n      ['Dataset3','Hello everyone! I am mamun',1],\n      ['Dataset3','Good morning Everyoe',0],  \n      ['Dataset3','Hello everyone! I am',1],\n      ['Dataset3','Good morning',0]\n      ]\n      */\n     var data=this.props.datasets;\n    //console.log(data);\n    var x_elements = d3.set(data.map(function( d ) { return d[1]; } )).values();\n    //console.log(x_elements);\n    var y_elements = d3.set(data.map(function( d ) { return d[0]; } )).values();\n    \n//------------------------------------------------------- Ordinal Scaling for X axis\n    var xScale = d3.scale.ordinal()\n      .domain(x_elements)\n      .rangeBands([0, x_elements.length * itemSize]);\n    var xAxis = d3.svg.axis()\n      .scale(xScale)\n      .tickFormat(function (d) {\n          return d;\n      })\n      .orient(\"top\");\n//------------------------------------------------------- Ordinal Scaling for Y axis\n    var yScale = d3.scale.ordinal()\n      .domain(y_elements)\n      .rangeBands([0, y_elements.length * itemSize]);\n    var yAxis = d3.svg.axis()\n      .scale(yScale)\n      .tickFormat(function (d) {\n          return d;\n      })\n      .orient(\"left\");\n//------------------------------------------------------- d3 Select starts here\n    var svg = d3.select(node)\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      \n      svg.selectAll('rect')\n      .data(data)\n      .enter().append('g').append('rect')\n      .attr('class', 'cell')\n      .attr('width', cellSize)\n      .attr('height', cellSize)\n      .attr('y', function(d) { return yScale(d[0]); })\n      .attr('x', function(d) { return xScale(d[1]); })\n      .attr('fill', (d)=> d[2]==1? '#fe9922':\"grey\")\n      \n    //------------------------------------------------------- Axis\n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis)\n      .selectAll('text')\n      .on('click',(d,i)=>console.log(d))\n      .attr('font-weight', 'normal');\n    \n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .call(xAxis)\n      .selectAll('text')\n      .attr('font-weight', 'normal')\n      .style(\"text-anchor\", \"start\")\n      .attr(\"dx\", \".8em\")\n      .attr(\"dy\", \".5em\")\n      .on('click',(d,i)=> this.props.clickhandler)\n      .attr(\"transform\", function (d) {\n          return \"rotate(-45)\";    \n      });\n         }\nrender() \n{\n      return( \n      <svg ref={node => this.node = node}\n      width={500} height={500}>\n      </svg>\n    )\n}\n}\nexport default BarChart"]},"metadata":{},"sourceType":"module"}