{"ast":null,"code":"var _jsxFileName = \"/Users/mr.mamun/Downloads/attribute-click-event/dist/reorderablemat3/src/HeatMap.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport * as d3 from 'd3';\n\nclass BarChart extends Component {\n  constructor(props) {\n    super(props);\n    this.createHeatMap = this.createHeatMap.bind(this);\n  }\n\n  componentDidMount() {\n    this.createHeatMap();\n  }\n\n  componentDidUpdate() {\n    this.createHeatMap();\n  } //-------------------------------------------------------------------------------------CreateHeatMap starts here\n\n\n  createHeatMap() {\n    const node = this.node;\n    var itemSize = 22,\n        cellSize = itemSize - .5,\n        margin = {\n      top: 120,\n      right: 20,\n      bottom: 20,\n      left: 110\n    };\n    var width = 750 - margin.right - margin.left,\n        height = 300 - margin.top - margin.bottom;\n    d3.csv('data2.csv', function (response) {\n      var data = response.map(function (item) {\n        var newItem = {};\n        newItem.row = item.x;\n        newItem.column = item.y;\n        newItem.value = item.value;\n        return newItem;\n      });\n      var x_elements = d3.set(data.map(function (item) {\n        return item.column;\n      })).values();\n      var y_elements = d3.set(data.map(function (item) {\n        return item.row;\n      })).values(); //------------------------------------------------------- Ordinal Scaling for X axis\n\n      var xScale = d3.scale.ordinal().domain(x_elements).rangeBands([0, x_elements.length * itemSize]);\n      var xAxis = d3.svg.axis().scale(xScale).tickFormat(function (d) {\n        return d;\n      }).orient(\"top\"); //------------------------------------------------------- Ordinal Scaling for Y axis\n\n      var yScale = d3.scale.ordinal().domain(y_elements).rangeBands([0, y_elements.length * itemSize]);\n      var yAxis = d3.svg.axis().scale(yScale).tickFormat(function (d) {\n        return d;\n      }).orient(\"left\"); //------------------------------------------------------- color scale\n\n      var colorScale = d3.scale.linear().domain([0.85, 1]).range([\"#ef5350\", \"#EC407A\", \"#AB47BC\", \"#7E57C2\", \"#5C6BC0\", \"#42A5F5\", \"#26C6DA\", \"#26A69A\", \"#D4E157\", \"#FFEE58\", \"#FFA726\"]);\n      console.log(colorScale(0));\n      var svg = d3.select(node).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      var cells = svg.selectAll('rect').data(data).enter().append('g').append('rect').attr('class', 'cell').attr('width', cellSize).attr('height', cellSize).attr('y', function (d) {\n        return yScale(d.row);\n      }).attr('x', function (d) {\n        return xScale(d.column);\n      }).attr('fill', d => d.value == 1 ? '#fe9922' : \"grey\").on(\"mouseover\", function () {\n        tooltip.style('display', null);\n      }).on(\"mouseout\", function () {\n        tooltip.style(\"display\", \"none\");\n      }).on(\"mousemove\", function (d, i, n) {\n        var xPos = d3.mouse(this)[0] - 15;\n        var yPos = d3.mouse(this)[1] - 55;\n        tooltip.attr('transform', 'translate(' + xPos + ',' + yPos + ')');\n        var a = d['row'] + \", \" + d['column'] + \", \" + d['value'];\n        tooltip.select(\"text\").text(a);\n      }); //------------------------------------------------------- Axis\n\n      svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).selectAll('text').attr('font-weight', 'normal');\n      svg.append(\"g\").attr(\"class\", \"x axis\").call(xAxis).selectAll('text').attr('font-weight', 'normal').style(\"text-anchor\", \"start\").attr(\"dx\", \".8em\").attr(\"dy\", \".5em\").attr(\"transform\", function (d) {\n        return \"rotate(-45)\";\n      }); //---------------Tooltip\n\n      var tooltip = svg.append(\"g\").attr('class', tooltip).style('display', 'none');\n      tooltip.append(\"text\").attr(\"x\", 15).attr(\"dy\", \"1.2em\").style(\"font-size\", \"1.2em\").attr(\"font-weigth\", \"bold\");\n    });\n  }\n\n  render() {\n    return React.createElement(\"svg\", {\n      ref: node => this.node = node,\n      width: 500,\n      height: 500,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default BarChart;","map":{"version":3,"sources":["/Users/mr.mamun/Downloads/attribute-click-event/dist/reorderablemat3/src/HeatMap.js"],"names":["React","Component","d3","BarChart","constructor","props","createHeatMap","bind","componentDidMount","componentDidUpdate","node","itemSize","cellSize","margin","top","right","bottom","left","width","height","csv","response","data","map","item","newItem","row","x","column","y","value","x_elements","set","values","y_elements","xScale","scale","ordinal","domain","rangeBands","length","xAxis","svg","axis","tickFormat","d","orient","yScale","yAxis","colorScale","linear","range","console","log","select","append","attr","cells","selectAll","enter","on","tooltip","style","i","n","xPos","mouse","yPos","a","text","call","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nimport * as d3 from 'd3'\nclass BarChart extends Component {\n   constructor(props){\n      super(props)\n      this.createHeatMap = this.createHeatMap.bind(this)\n   }\n   componentDidMount() {\n      this.createHeatMap()\n   }\n   componentDidUpdate() {\n      this.createHeatMap()\n   }\n   //-------------------------------------------------------------------------------------CreateHeatMap starts here\n   createHeatMap() {\n      const node = this.node\n      var itemSize = 22,\n      cellSize = itemSize-.5,\n      margin = {top: 120, right: 20, bottom: 20, left: 110};\n      \n      var width = 750 - margin.right - margin.left,\n      height = 300 - margin.top - margin.bottom;\n\n      d3.csv('data2.csv', function ( response ) {\n        var data = response.map(function( item ) {\n            var newItem = {};\n            newItem.row = item.x;\n            newItem.column = item.y;\n            newItem.value = item.value;\n            return newItem;\n        })\n      \n      var x_elements = d3.set(data.map(function( item ) { return item.column; } )).values();\n      var y_elements = d3.set(data.map(function( item ) { return item.row; } )).values();\n      \n      //------------------------------------------------------- Ordinal Scaling for X axis\n      var xScale = d3.scale.ordinal()\n        .domain(x_elements)\n        .rangeBands([0, x_elements.length * itemSize]);\n      \n      var xAxis = d3.svg.axis()\n        .scale(xScale)\n        .tickFormat(function (d) {\n            return d;\n        })\n        .orient(\"top\");\n      //------------------------------------------------------- Ordinal Scaling for Y axis\n      var yScale = d3.scale.ordinal()\n        .domain(y_elements)\n        .rangeBands([0, y_elements.length * itemSize]);\n      \n      var yAxis = d3.svg.axis()\n        .scale(yScale)\n        .tickFormat(function (d) {\n            return d;\n        })\n        .orient(\"left\");\n      //------------------------------------------------------- color scale\n      var colorScale = d3.scale.linear()\n        .domain([0.85, 1])\n        .range([\"#ef5350\",\"#EC407A\",\"#AB47BC\",\"#7E57C2\",\"#5C6BC0\",\"#42A5F5\",\"#26C6DA\",\"#26A69A\",\"#D4E157\",\"#FFEE58\",\"#FFA726\"]);\n      console.log(colorScale(0))\n      var svg = d3.select(node)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      \n      var cells = svg.selectAll('rect')\n        .data(data)\n        .enter().append('g').append('rect')\n        .attr('class', 'cell')\n        .attr('width', cellSize)\n        .attr('height', cellSize)\n        .attr('y', function(d) { return yScale(d.row); })\n        .attr('x', function(d) { return xScale(d.column); })\n        .attr('fill', (d)=> d.value==1? '#fe9922':\"grey\")\n        .on(\"mouseover\",function(){\n          tooltip.style('display', null)\n      })\n      .on(\"mouseout\",function(){\n          tooltip.style(\"display\",\"none\");\n      })\n      .on(\"mousemove\",function(d,i,n)\n      {\n          var xPos=d3.mouse(this)[0] - 15;\n          var yPos=d3.mouse(this)[1] - 55;\n          tooltip.attr('transform', 'translate(' + xPos + ',' + yPos + ')');\n          var a=d['row']+\", \"+d['column']+\", \"+d['value'];\n          tooltip.select(\"text\").text(a);\n      });\n      //------------------------------------------------------- Axis\n      svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(yAxis)\n        .selectAll('text')\n        .attr('font-weight', 'normal');\n      svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .call(xAxis)\n        .selectAll('text')\n        .attr('font-weight', 'normal')\n        .style(\"text-anchor\", \"start\")\n        .attr(\"dx\", \".8em\")\n        .attr(\"dy\", \".5em\")\n        .attr(\"transform\", function (d) {\n            return \"rotate(-45)\";\n        });\n      //---------------Tooltip\n      \n      var tooltip=svg.append(\"g\").attr('class',tooltip).style('display','none');\n      tooltip.append(\"text\")\n              .attr(\"x\",15)\n              .attr(\"dy\",\"1.2em\")\n              .style(\"font-size\",\"1.2em\")\n              .attr(\"font-weigth\",\"bold\");\n      });\n         }\nrender() \n{\n      return <svg ref={node => this.node = node}\n      width={500} height={500}>\n      </svg>\n}\n}\nexport default BarChart"]},"metadata":{},"sourceType":"module"}