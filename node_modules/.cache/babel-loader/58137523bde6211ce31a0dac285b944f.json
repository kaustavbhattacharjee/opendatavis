{"ast":null,"code":"/*\nvar datasets_in_dictionary={\n    dataset2: ['A','B','C','D','E'],\n    dataset3: ['A','B','AA','BB','CC','DD','EE'],\n    dataset4: ['A','B','BBB','DDD','C'],\n    }\nvar attributes_from_union=['A','B','C','D','E','AA','BB','CC','DD','EE','BBB','DDD'];\n*/\n//------------------------------------------------------------------------------------------------------ Matrix generator starts here\nexport function test(d) {\n  return d;\n}\nexport function matrixgen(attributes_from_union, datasets_in_dictionary) {\n  //console.log(datasets_in_dictionary)\n  var datasets = []; //var size=Object.keys(datasets_in_dictionary).length;\n\n  var matrix = new Array(Object.keys(datasets_in_dictionary).length);\n  var count = 0;\n\n  for (var combinations_key in datasets_in_dictionary) {\n    datasets.push(combinations_key);\n    matrix[count] = new Array(attributes_from_union.length);\n\n    for (var combination_index = 0; combination_index < attributes_from_union.length; combination_index++) {\n      for (var j = 0; j < datasets_in_dictionary[combinations_key].length; j++) {\n        if (attributes_from_union[combination_index] == datasets_in_dictionary[combinations_key][j]) {\n          //console.log(matrix[count]);\n          matrix[count][combination_index] = 1;\n        } else {\n          if (!matrix[count][combination_index] == 1) {\n            matrix[count][combination_index] = 'n';\n          }\n        }\n      }\n    }\n\n    count++;\n  }\n\n  return {\n    'datasets': datasets,\n    'matrix': matrix\n  };\n} //console.log(matrixgen(attributes_from_union,datasets_in_dictionary)['datasets'])\n//console.log(datasets,matrix);\n//------------------------------------------------------------------------------------------------------  Combination generator2 starts here\n\nexport function combinationgen2(array) {\n  var combdict = [];\n\n  function fork(i, t) {\n    if (i === array.length) {\n      result.push(t);\n      return;\n    }\n\n    fork(i + 1, t.concat([array[i]]));\n    fork(i + 1, t);\n  }\n\n  var result = [];\n  fork(0, []);\n\n  for (var i = 0; i < result.length; i++) {\n    if (result[i].length > 0) {\n      combdict.push(result[i]);\n    }\n  }\n\n  return combdict;\n} //------------------------------------------------------------------------------------------------------  Combination generator starts here\n\nexport function combinationgen(array) {\n  var combdict = [];\n\n  function fork(i, t) {\n    if (i === array.length) {\n      result.push(t);\n      return;\n    }\n\n    fork(i + 1, t.concat([array[i]]));\n    fork(i + 1, t);\n  }\n\n  var result = [];\n  fork(0, []);\n\n  for (var i = 0; i < result.length; i++) {\n    if (result[i].length > 0) {\n      combdict.push({\n        [result[i].length]: result[i]\n      });\n    }\n  }\n\n  return combdict;\n} //console.log('Combination Generator has generated : ',combinationgen([0,2])) \n//console.log(combinationgen([4,5,0]))\n//------------------------------------------------------------------------------------------------------ Comobination matched starts here\n\nexport function combination_matched(matrix, datasets, combination) {\n  var combinations_with_mathced_datasets = [];\n  var len = combination.length - 1;\n\n  for (var combination_index = len; combination_index >= 0; combination_index--) {\n    for (var combinations_key in combination[combination_index]) {\n      var count = 0;\n\n      for (var combinations_dictionary_iterator = 0; combinations_dictionary_iterator < combination[combination_index][combinations_key].length; combinations_dictionary_iterator++) {\n        //console.log(\"----\");  \n        count++;\n\n        for (var fi = 0; fi < datasets.length; fi++) {\n          if (matrix[fi][combination[combination_index][combinations_key][combinations_dictionary_iterator]]) {\n            //console.log(combination[combination_index][combinations_key],datasets[fi],combination[combination_index][combinations_key].length,count);\n            if (count == combination[combination_index][combinations_key].length) {\n              combinations_with_mathced_datasets.push({\n                [count]: combination[combination_index][combinations_key],\n                'Dataset': datasets[fi]\n              }); //console.log(combination[combination_index][combinations_key],datasets[fi],combination[combination_index][combinations_key].length,count);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return combinations_with_mathced_datasets;\n} //var combination=combinationgen([0,1,2]);\n//var matrixgen=matrixgen(attributes_from_union,datasets_in_dictionary);\n//console.log(combination_matched(matrixgen['matrix'],matrixgen['datasets']),combination);\n//------------------------------------------------------------------------------------------------------ Dataset grouping_based_on_combination starts here\n\nexport function grouping_based_on_combination(combinations, combinationmatched) {\n  //console.log('Combinations : ',combinations);\n  //console.log('Combination matched : ',combinationmatched);\n  var len = combinations.length - 1;\n  var group = 0;\n  var arr_group = [];\n\n  for (var combination_index = len; combination_index >= 0; combination_index--) {\n    var arr = [];\n\n    for (var combinations_key in combinations[combination_index]) {\n      for (var combination_mathced_iterator = 0; combination_mathced_iterator < combinationmatched.length; combination_mathced_iterator++) {\n        for (var key_in_combination_mathced in combinationmatched[combination_mathced_iterator]) {\n          if (JSON.stringify(combinations[combination_index][combinations_key]) == JSON.stringify(combinationmatched[combination_mathced_iterator][key_in_combination_mathced])) {\n            arr.push(combinationmatched[combination_mathced_iterator]['Dataset']);\n          }\n        }\n      }\n\n      arr_group.push({\n        [group]: arr,\n        'dataset': arr,\n        'attributes_index': combinations[combination_index][combinations_key],\n        'occurence': combinations[combination_index][combinations_key].length,\n        'number_of_dataset': arr.length\n      });\n    }\n\n    group++;\n  } //console.log(arr_group)\n\n\n  return arr_group;\n} //------------------------------------------------------------------------------------------------------ Second Matrix generator starts here\n\nexport function second_matrix_with_datasets(datasets, matrix) {\n  console.log(\"From secondMatrix\", matrix);\n  var mymatrix = matrix.slice(); // The parameters are dataset array and matrix array.\n\n  var newMatrix = [datasets, mymatrix];\n\n  for (var i = 0; i < newMatrix[0].length; i++) {\n    for (var j = 0; j < newMatrix[0][i].length; j++) {\n      if (newMatrix[1][i][j] == 1) {\n        newMatrix[1][i][j] = j;\n      }\n      /*\n                  else{\n                      if(newMatrix[1][i][j]=='00'){\n                          newMatrix[1][i][j]='n';\n                      }                \n                  }\n      */\n\n    }\n  }\n\n  return newMatrix; // returns 2D array where the second array contains the matrix and the first one datasets\n} //------------------------------------------------------------------------------------------------------ Function to check if an array contains another array\n\nexport function arrayContainsArray(superset, subset) {\n  if (0 === subset.length) {\n    return false;\n  }\n\n  return subset.every(function (value) {\n    return superset.indexOf(value) >= 0;\n  });\n} //------------------------------------------------------------------------------------------------------ DatasetGrouper starts here\n\nexport function dataset_grouper(datasets, matrix, combinations) {\n  const secondMatrix = second_matrix_with_datasets(datasets, matrix); //console.log(\"From datasetGrouper\",matrix)\n  // secondMatrix[1] has the arrays with combinations set to their respective index\n\n  var return_Array = new Array(combinations.length);\n  var count = 0;\n\n  for (var i = 0; i < combinations.length; i++) {\n    var arr = [[], []];\n    arr[0] = combinations[i]; //console.log(combinations[i]);\n\n    for (var j = 0; j < secondMatrix[1].length; j++) {\n      if (arrayContainsArray(secondMatrix[1][j], combinations[i])) {\n        arr[1].push(secondMatrix[0][j]); //console.log(combinations[i],secondMatrix[0][j])\n      }\n    }\n\n    return_Array[count] = arr;\n    count++;\n  }\n\n  return subsetRemover(return_Array);\n} //------------------------------------------------------------------------------------------------------ subsetRemover\n\nexport function subsetRemover(grouped_datasets) {\n  var subsetRemovedArray = grouped_datasets;\n  var return_Array = [];\n  var len = subsetRemovedArray.length;\n\n  for (var i = 0; i < len; i++) {\n    for (var j = i + 1; j < len; j++) {\n      if (typeof subsetRemovedArray[j] !== 'undefined' & typeof subsetRemovedArray[i] !== 'undefined') {\n        if (JSON.stringify(subsetRemovedArray[i][1]) === JSON.stringify(subsetRemovedArray[j][1])) {\n          delete subsetRemovedArray[j];\n        } else {}\n      }\n    }\n  }\n\n  for (var i = 0; i < subsetRemovedArray.length; i++) {\n    if (typeof subsetRemovedArray[i] !== 'undefined') {\n      if (subsetRemovedArray[i].length > 0) {\n        return_Array.push(subsetRemovedArray[i]);\n      }\n    }\n  }\n\n  return return_Array;\n}","map":{"version":3,"sources":["/Users/mr.mamun/Desktop/Programs/18 ReactApps/reorderablemat3/src/algorithms.js"],"names":["test","d","matrixgen","attributes_from_union","datasets_in_dictionary","datasets","matrix","Array","Object","keys","length","count","combinations_key","push","combination_index","j","combinationgen2","array","combdict","fork","i","t","result","concat","combinationgen","combination_matched","combination","combinations_with_mathced_datasets","len","combinations_dictionary_iterator","fi","grouping_based_on_combination","combinations","combinationmatched","group","arr_group","arr","combination_mathced_iterator","key_in_combination_mathced","JSON","stringify","second_matrix_with_datasets","console","log","mymatrix","slice","newMatrix","arrayContainsArray","superset","subset","every","value","indexOf","dataset_grouper","secondMatrix","return_Array","subsetRemover","grouped_datasets","subsetRemovedArray"],"mappings":"AAAA;;;;;;;;AAQA;AACA,OAAO,SAASA,IAAT,CAAcC,CAAd,EAAgB;AACvB,SAAOA,CAAP;AACC;AACD,OAAO,SAASC,SAAT,CAAmBC,qBAAnB,EAAyCC,sBAAzC,EAAgE;AACnE;AACJ,MAAIC,QAAQ,GAAC,EAAb,CAFuE,CAGvE;;AACA,MAAIC,MAAM,GAAC,IAAIC,KAAJ,CAAUC,MAAM,CAACC,IAAP,CAAYL,sBAAZ,EAAoCM,MAA9C,CAAX;AACA,MAAIC,KAAK,GAAC,CAAV;;AACA,OAAK,IAAIC,gBAAT,IAA6BR,sBAA7B,EAAoD;AAChDC,IAAAA,QAAQ,CAACQ,IAAT,CAAcD,gBAAd;AACAN,IAAAA,MAAM,CAACK,KAAD,CAAN,GAAc,IAAIJ,KAAJ,CAAUJ,qBAAqB,CAACO,MAAhC,CAAd;;AACA,SAAI,IAAII,iBAAiB,GAAC,CAA1B,EAA4BA,iBAAiB,GAACX,qBAAqB,CAACO,MAApE,EAA2EI,iBAAiB,EAA5F,EAA+F;AAC3F,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACX,sBAAsB,CAACQ,gBAAD,CAAtB,CAAyCF,MAAvD,EAA8DK,CAAC,EAA/D,EAAkE;AAC9D,YAAGZ,qBAAqB,CAACW,iBAAD,CAArB,IAA0CV,sBAAsB,CAACQ,gBAAD,CAAtB,CAAyCG,CAAzC,CAA7C,EAAyF;AAC1F;AACCT,UAAAA,MAAM,CAACK,KAAD,CAAN,CAAcG,iBAAd,IAAiC,CAAjC;AACH,SAHG,MAIA;AACA,cAAG,CAACR,MAAM,CAACK,KAAD,CAAN,CAAcG,iBAAd,CAAD,IAAmC,CAAtC,EAAwC;AACpCR,YAAAA,MAAM,CAACK,KAAD,CAAN,CAAcG,iBAAd,IAAiC,GAAjC;AACH;AACJ;AACJ;AACJ;;AACDH,IAAAA,KAAK;AACJ;;AACD,SAAO;AAAC,gBAAWN,QAAZ;AAAqB,cAASC;AAA9B,GAAP;AACC,C,CACD;AACA;AACA;;AACA,OAAO,SAASU,eAAT,CAAyBC,KAAzB,EAA+B;AAClC,MAAIC,QAAQ,GAAC,EAAb;;AACC,WAASC,IAAT,CAAcC,CAAd,EAAiBC,CAAjB,EAAoB;AAChB,QAAID,CAAC,KAAKH,KAAK,CAACP,MAAhB,EAAwB;AACpBY,MAAAA,MAAM,CAACT,IAAP,CAAYQ,CAAZ;AACA;AACH;;AACDF,IAAAA,IAAI,CAACC,CAAC,GAAG,CAAL,EAAQC,CAAC,CAACE,MAAF,CAAS,CAACN,KAAK,CAACG,CAAD,CAAN,CAAT,CAAR,CAAJ;AACAD,IAAAA,IAAI,CAACC,CAAC,GAAG,CAAL,EAAQC,CAAR,CAAJ;AACH;;AACD,MAAIC,MAAM,GAAG,EAAb;AACAH,EAAAA,IAAI,CAAC,CAAD,EAAI,EAAJ,CAAJ;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACE,MAAM,CAACZ,MAArB,EAA4BU,CAAC,EAA7B,EAAgC;AAC5B,QAAGE,MAAM,CAACF,CAAD,CAAN,CAAUV,MAAV,GAAiB,CAApB,EAAsB;AAClBQ,MAAAA,QAAQ,CAACL,IAAT,CAAcS,MAAM,CAACF,CAAD,CAApB;AACH;AACJ;;AACD,SAAOF,QAAP;AACC,C,CAEN;;AACA,OAAO,SAASM,cAAT,CAAwBP,KAAxB,EAA8B;AAClC,MAAIC,QAAQ,GAAC,EAAb;;AACC,WAASC,IAAT,CAAcC,CAAd,EAAiBC,CAAjB,EAAoB;AAChB,QAAID,CAAC,KAAKH,KAAK,CAACP,MAAhB,EAAwB;AACpBY,MAAAA,MAAM,CAACT,IAAP,CAAYQ,CAAZ;AACA;AACH;;AACDF,IAAAA,IAAI,CAACC,CAAC,GAAG,CAAL,EAAQC,CAAC,CAACE,MAAF,CAAS,CAACN,KAAK,CAACG,CAAD,CAAN,CAAT,CAAR,CAAJ;AACAD,IAAAA,IAAI,CAACC,CAAC,GAAG,CAAL,EAAQC,CAAR,CAAJ;AACH;;AACD,MAAIC,MAAM,GAAG,EAAb;AACAH,EAAAA,IAAI,CAAC,CAAD,EAAI,EAAJ,CAAJ;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACE,MAAM,CAACZ,MAArB,EAA4BU,CAAC,EAA7B,EAAgC;AAC5B,QAAGE,MAAM,CAACF,CAAD,CAAN,CAAUV,MAAV,GAAiB,CAApB,EAAsB;AAClBQ,MAAAA,QAAQ,CAACL,IAAT,CAAc;AAAC,SAACS,MAAM,CAACF,CAAD,CAAN,CAAUV,MAAX,GAAmBY,MAAM,CAACF,CAAD;AAA1B,OAAd;AACH;AACJ;;AACD,SAAOF,QAAP;AACC,C,CACL;AACA;AACA;;AACA,OAAO,SAASO,mBAAT,CAA6BnB,MAA7B,EAAoCD,QAApC,EAA6CqB,WAA7C,EAAyD;AAC5D,MAAIC,kCAAkC,GAAC,EAAvC;AACA,MAAIC,GAAG,GAACF,WAAW,CAAChB,MAAZ,GAAmB,CAA3B;;AACA,OAAK,IAAII,iBAAiB,GAACc,GAA3B,EAA+Bd,iBAAiB,IAAE,CAAlD,EAAoDA,iBAAiB,EAArE,EAAwE;AAChE,SAAI,IAAIF,gBAAR,IAA4Bc,WAAW,CAACZ,iBAAD,CAAvC,EAA2D;AACvD,UAAIH,KAAK,GAAC,CAAV;;AACA,WAAI,IAAIkB,gCAAgC,GAAC,CAAzC,EAA2CA,gCAAgC,GAACH,WAAW,CAACZ,iBAAD,CAAX,CAA+BF,gBAA/B,EAAiDF,MAA7H,EAAoImB,gCAAgC,EAApK,EAAuK;AACnK;AACAlB,QAAAA,KAAK;;AACL,aAAI,IAAImB,EAAE,GAAC,CAAX,EAAaA,EAAE,GAACzB,QAAQ,CAACK,MAAzB,EAAgCoB,EAAE,EAAlC,EAAqC;AACrC,cAAGxB,MAAM,CAACwB,EAAD,CAAN,CAAWJ,WAAW,CAACZ,iBAAD,CAAX,CAA+BF,gBAA/B,EAAiDiB,gCAAjD,CAAX,CAAH,EAAkG;AAC9F;AACA,gBAAGlB,KAAK,IAAEe,WAAW,CAACZ,iBAAD,CAAX,CAA+BF,gBAA/B,EAAiDF,MAA3D,EAAkE;AAC9DiB,cAAAA,kCAAkC,CAACd,IAAnC,CAAwC;AAAC,iBAACF,KAAD,GAAQe,WAAW,CAACZ,iBAAD,CAAX,CAA+BF,gBAA/B,CAAT;AAA0D,2BAAUP,QAAQ,CAACyB,EAAD;AAA5E,eAAxC,EAD8D,CAE9D;AACH;AACJ;AACJ;AACJ;AACJ;AACJ;;AACL,SAAOH,kCAAP;AACC,C,CACD;AACA;AACA;AACA;;AACA,OAAO,SAASI,6BAAT,CAAuCC,YAAvC,EAAoDC,kBAApD,EAAuE;AAC1E;AACA;AACA,MAAIL,GAAG,GAACI,YAAY,CAACtB,MAAb,GAAoB,CAA5B;AACA,MAAIwB,KAAK,GAAE,CAAX;AACA,MAAIC,SAAS,GAAC,EAAd;;AACA,OAAK,IAAIrB,iBAAiB,GAACc,GAA3B,EAA+Bd,iBAAiB,IAAE,CAAlD,EAAoDA,iBAAiB,EAArE,EAAwE;AACpE,QAAIsB,GAAG,GAAC,EAAR;;AACA,SAAI,IAAIxB,gBAAR,IAA4BoB,YAAY,CAAClB,iBAAD,CAAxC,EAA4D;AACxD,WAAI,IAAIuB,4BAA4B,GAAC,CAArC,EAAuCA,4BAA4B,GAACJ,kBAAkB,CAACvB,MAAvF,EAA8F2B,4BAA4B,EAA1H,EAA6H;AACzH,aAAI,IAAIC,0BAAR,IAAsCL,kBAAkB,CAACI,4BAAD,CAAxD,EAAuF;AACnF,cAAGE,IAAI,CAACC,SAAL,CAAeR,YAAY,CAAClB,iBAAD,CAAZ,CAAgCF,gBAAhC,CAAf,KAAoE2B,IAAI,CAACC,SAAL,CAAeP,kBAAkB,CAACI,4BAAD,CAAlB,CAAiDC,0BAAjD,CAAf,CAAvE,EAAoK;AAChKF,YAAAA,GAAG,CAACvB,IAAJ,CAASoB,kBAAkB,CAACI,4BAAD,CAAlB,CAAiD,SAAjD,CAAT;AACH;AACJ;AACJ;;AACDF,MAAAA,SAAS,CAACtB,IAAV,CAAe;AAAC,SAACqB,KAAD,GAAQE,GAAT;AAAa,mBAAUA,GAAvB;AAA2B,4BAAmBJ,YAAY,CAAClB,iBAAD,CAAZ,CAAgCF,gBAAhC,CAA9C;AAAgG,qBAAYoB,YAAY,CAAClB,iBAAD,CAAZ,CAAgCF,gBAAhC,EAAkDF,MAA9J;AAAqK,6BAAoB0B,GAAG,CAAC1B;AAA7L,OAAf;AACC;;AACDwB,IAAAA,KAAK;AACR,GAnBqE,CAoBtE;;;AACJ,SAAOC,SAAP;AACC,C,CACL;;AACA,OAAO,SAASM,2BAAT,CAAqCpC,QAArC,EAA8CC,MAA9C,EAAqD;AACxDoC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCrC,MAAhC;AACA,MAAIsC,QAAQ,GAACtC,MAAM,CAACuC,KAAP,EAAb,CAFwD,CAGxD;;AACA,MAAIC,SAAS,GAAC,CAACzC,QAAD,EAAUuC,QAAV,CAAd;;AACA,OAAI,IAAIxB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC0B,SAAS,CAAC,CAAD,CAAT,CAAapC,MAA3B,EAAkCU,CAAC,EAAnC,EAAsC;AAClC,SAAI,IAAIL,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC+B,SAAS,CAAC,CAAD,CAAT,CAAa1B,CAAb,EAAgBV,MAA9B,EAAqCK,CAAC,EAAtC,EAAyC;AACrC,UAAG+B,SAAS,CAAC,CAAD,CAAT,CAAa1B,CAAb,EAAgBL,CAAhB,KAAoB,CAAvB,EAAyB;AACrB+B,QAAAA,SAAS,CAAC,CAAD,CAAT,CAAa1B,CAAb,EAAgBL,CAAhB,IAAmBA,CAAnB;AACH;AACb;;;;;;;;AAOS;AACJ;;AACL,SAAO+B,SAAP,CAnB4D,CAoB5D;AACC,C,CACD;;AACA,OAAO,SAASC,kBAAT,CAA6BC,QAA7B,EAAuCC,MAAvC,EAA+C;AAClD,MAAI,MAAMA,MAAM,CAACvC,MAAjB,EAAyB;AACvB,WAAO,KAAP;AACD;;AACD,SAAOuC,MAAM,CAACC,KAAP,CAAa,UAAUC,KAAV,EAAiB;AACnC,WAAQH,QAAQ,CAACI,OAAT,CAAiBD,KAAjB,KAA2B,CAAnC;AACD,GAFM,CAAP;AAGD,C,CAEH;;AACA,OAAO,SAASE,eAAT,CAAyBhD,QAAzB,EAAkCC,MAAlC,EAAyC0B,YAAzC,EAAsD;AACzD,QAAMsB,YAAY,GAACb,2BAA2B,CAACpC,QAAD,EAAUC,MAAV,CAA9C,CADyD,CAEzD;AACA;;AACA,MAAIiD,YAAY,GAAC,IAAIhD,KAAJ,CAAUyB,YAAY,CAACtB,MAAvB,CAAjB;AACA,MAAIC,KAAK,GAAC,CAAV;;AACA,OAAI,IAAIS,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACY,YAAY,CAACtB,MAA5B,EAAmCU,CAAC,EAApC,EAAuC;AACnC,QAAIgB,GAAG,GAAC,CAAC,EAAD,EAAI,EAAJ,CAAR;AACAA,IAAAA,GAAG,CAAC,CAAD,CAAH,GAAOJ,YAAY,CAACZ,CAAD,CAAnB,CAFmC,CAGnC;;AACA,SAAI,IAAIL,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACuC,YAAY,CAAC,CAAD,CAAZ,CAAgB5C,MAA9B,EAAqCK,CAAC,EAAtC,EAAyC;AACrC,UAAGgC,kBAAkB,CAACO,YAAY,CAAC,CAAD,CAAZ,CAAgBvC,CAAhB,CAAD,EAAoBiB,YAAY,CAACZ,CAAD,CAAhC,CAArB,EAA0D;AACvDgB,QAAAA,GAAG,CAAC,CAAD,CAAH,CAAOvB,IAAP,CAAYyC,YAAY,CAAC,CAAD,CAAZ,CAAgBvC,CAAhB,CAAZ,EADuD,CAEtD;AACH;AACJ;;AACDwC,IAAAA,YAAY,CAAC5C,KAAD,CAAZ,GAAoByB,GAApB;AACAzB,IAAAA,KAAK;AACR;;AACF,SAAO6C,aAAa,CAACD,YAAD,CAApB;AACF,C,CACD;;AACA,OAAO,SAASC,aAAT,CAAuBC,gBAAvB,EAAwC;AAC3C,MAAIC,kBAAkB,GAAGD,gBAAzB;AACA,MAAIF,YAAY,GAAC,EAAjB;AACA,MAAI3B,GAAG,GAAC8B,kBAAkB,CAAChD,MAA3B;;AACA,OAAI,IAAIU,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACQ,GAAd,EAAkBR,CAAC,EAAnB,EAAsB;AAClB,SAAI,IAAIL,CAAC,GAACK,CAAC,GAAC,CAAZ,EAAcL,CAAC,GAACa,GAAhB,EAAoBb,CAAC,EAArB,EAAwB;AACpB,UAAG,OAAO2C,kBAAkB,CAAC3C,CAAD,CAAzB,KAAiC,WAAjC,GAA+C,OAAO2C,kBAAkB,CAACtC,CAAD,CAAzB,KAAiC,WAAnF,EAA+F;AAC/F,YAAImB,IAAI,CAACC,SAAL,CAAekB,kBAAkB,CAACtC,CAAD,CAAlB,CAAsB,CAAtB,CAAf,CAAD,KAA+CmB,IAAI,CAACC,SAAL,CAAekB,kBAAkB,CAAC3C,CAAD,CAAlB,CAAsB,CAAtB,CAAf,CAAlD,EAA2F;AACvF,iBAAO2C,kBAAkB,CAAC3C,CAAD,CAAzB;AACH,SAFD,MAGA,CAEC;AACJ;AACJ;AACA;;AACD,OAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACsC,kBAAkB,CAAChD,MAAjC,EAAwCU,CAAC,EAAzC,EAA4C;AACxC,QAAG,OAAOsC,kBAAkB,CAACtC,CAAD,CAAzB,KAAiC,WAApC,EAAgD;AAC5C,UAAGsC,kBAAkB,CAACtC,CAAD,CAAlB,CAAsBV,MAAtB,GAA6B,CAAhC,EAAkC;AAC9B6C,QAAAA,YAAY,CAAC1C,IAAb,CAAkB6C,kBAAkB,CAACtC,CAAD,CAApC;AACH;AACJ;AACR;;AACD,SAAOmC,YAAP;AACC","sourcesContent":["/*\nvar datasets_in_dictionary={\n    dataset2: ['A','B','C','D','E'],\n    dataset3: ['A','B','AA','BB','CC','DD','EE'],\n    dataset4: ['A','B','BBB','DDD','C'],\n    }\nvar attributes_from_union=['A','B','C','D','E','AA','BB','CC','DD','EE','BBB','DDD'];\n*/\n//------------------------------------------------------------------------------------------------------ Matrix generator starts here\nexport function test(d){\nreturn d;\n}\nexport function matrixgen(attributes_from_union,datasets_in_dictionary){\n    //console.log(datasets_in_dictionary)\nvar datasets=[];\n//var size=Object.keys(datasets_in_dictionary).length;\nvar matrix=new Array(Object.keys(datasets_in_dictionary).length);\nvar count=0;\nfor (var combinations_key in datasets_in_dictionary){\n    datasets.push(combinations_key);\n    matrix[count]=new Array(attributes_from_union.length);\n    for(var combination_index=0;combination_index<attributes_from_union.length;combination_index++){\n        for(var j=0;j<datasets_in_dictionary[combinations_key].length;j++){\n            if(attributes_from_union[combination_index]==datasets_in_dictionary[combinations_key][j]){\n           //console.log(matrix[count]);\n            matrix[count][combination_index]=1;\n        }\n        else{\n            if(!matrix[count][combination_index]==1){\n                matrix[count][combination_index]='n';\n            }\n        }\n    }\n}\ncount++;\n}\nreturn {'datasets':datasets,'matrix':matrix}\n}\n//console.log(matrixgen(attributes_from_union,datasets_in_dictionary)['datasets'])\n//console.log(datasets,matrix);\n//------------------------------------------------------------------------------------------------------  Combination generator2 starts here\nexport function combinationgen2(array){\n    var combdict=[];\n     function fork(i, t) {\n         if (i === array.length) {\n             result.push(t);\n             return;\n         }\n         fork(i + 1, t.concat([array[i]]));\n         fork(i + 1, t);\n     }\n     var result = [];\n     fork(0, []);\n     for(var i=0;i<result.length;i++){\n         if(result[i].length>0){\n             combdict.push(result[i])\n         }\n     }\n     return combdict;\n     }\n\n//------------------------------------------------------------------------------------------------------  Combination generator starts here\nexport function combinationgen(array){\n   var combdict=[];\n    function fork(i, t) {\n        if (i === array.length) {\n            result.push(t);\n            return;\n        }\n        fork(i + 1, t.concat([array[i]]));\n        fork(i + 1, t);\n    }\n    var result = [];\n    fork(0, []);\n    for(var i=0;i<result.length;i++){\n        if(result[i].length>0){\n            combdict.push({[result[i].length]:result[i]})\n        }\n    }\n    return combdict;\n    }\n//console.log('Combination Generator has generated : ',combinationgen([0,2])) \n//console.log(combinationgen([4,5,0]))\n//------------------------------------------------------------------------------------------------------ Comobination matched starts here\nexport function combination_matched(matrix,datasets,combination){\n    var combinations_with_mathced_datasets=[];\n    var len=combination.length-1;\n    for (var combination_index=len;combination_index>=0;combination_index--){\n            for(var combinations_key in combination[combination_index]){\n                var count=0;\n                for(var combinations_dictionary_iterator=0;combinations_dictionary_iterator<combination[combination_index][combinations_key].length;combinations_dictionary_iterator++){\n                    //console.log(\"----\");  \n                    count++;\n                    for(var fi=0;fi<datasets.length;fi++){\n                    if(matrix[fi][combination[combination_index][combinations_key][combinations_dictionary_iterator]]){\n                        //console.log(combination[combination_index][combinations_key],datasets[fi],combination[combination_index][combinations_key].length,count);\n                        if(count==combination[combination_index][combinations_key].length){\n                            combinations_with_mathced_datasets.push({[count]:combination[combination_index][combinations_key],'Dataset':datasets[fi]})\n                            //console.log(combination[combination_index][combinations_key],datasets[fi],combination[combination_index][combinations_key].length,count);\n                        }\n                    }   \n                }\n            }\n        }\n    }\nreturn combinations_with_mathced_datasets;      \n}\n//var combination=combinationgen([0,1,2]);\n//var matrixgen=matrixgen(attributes_from_union,datasets_in_dictionary);\n//console.log(combination_matched(matrixgen['matrix'],matrixgen['datasets']),combination);\n//------------------------------------------------------------------------------------------------------ Dataset grouping_based_on_combination starts here\nexport function grouping_based_on_combination(combinations,combinationmatched){\n    //console.log('Combinations : ',combinations);\n    //console.log('Combination matched : ',combinationmatched);\n    var len=combinations.length-1;\n    var group =0;\n    var arr_group=[];\n    for (var combination_index=len;combination_index>=0;combination_index--){\n        var arr=[];\n        for(var combinations_key in combinations[combination_index]){\n            for(var combination_mathced_iterator=0;combination_mathced_iterator<combinationmatched.length;combination_mathced_iterator++){\n                for(var key_in_combination_mathced in combinationmatched[combination_mathced_iterator]){\n                    if(JSON.stringify(combinations[combination_index][combinations_key])== JSON.stringify(combinationmatched[combination_mathced_iterator][key_in_combination_mathced])){\n                        arr.push(combinationmatched[combination_mathced_iterator]['Dataset']);\n                    }\n                }\n            }\n            arr_group.push({[group]:arr,'dataset':arr,'attributes_index':combinations[combination_index][combinations_key],'occurence':combinations[combination_index][combinations_key].length,'number_of_dataset':arr.length})\n            }\n            group++;\n        }\n        //console.log(arr_group)\n    return arr_group;\n    }\n//------------------------------------------------------------------------------------------------------ Second Matrix generator starts here\nexport function second_matrix_with_datasets(datasets,matrix){\n    console.log(\"From secondMatrix\",matrix)\n    var mymatrix=matrix.slice();\n    // The parameters are dataset array and matrix array.\n    var newMatrix=[datasets,mymatrix];\n    for(var i=0;i<newMatrix[0].length;i++){\n        for(var j=0;j<newMatrix[0][i].length;j++){\n            if(newMatrix[1][i][j]==1){\n                newMatrix[1][i][j]=j;\n            }\n/*\n            else{\n                if(newMatrix[1][i][j]=='00'){\n                    newMatrix[1][i][j]='n';\n                }                \n            }\n*/\n        }\n    }\nreturn newMatrix;\n// returns 2D array where the second array contains the matrix and the first one datasets\n}\n//------------------------------------------------------------------------------------------------------ Function to check if an array contains another array\nexport function arrayContainsArray (superset, subset) {\n    if (0 === subset.length) {\n      return false;\n    }\n    return subset.every(function (value) {\n      return (superset.indexOf(value) >= 0);\n    });\n  }\n\n//------------------------------------------------------------------------------------------------------ DatasetGrouper starts here\nexport function dataset_grouper(datasets,matrix,combinations){\n    const secondMatrix=second_matrix_with_datasets(datasets,matrix)\n    //console.log(\"From datasetGrouper\",matrix)\n    // secondMatrix[1] has the arrays with combinations set to their respective index\n    var return_Array=new Array(combinations.length);\n    var count=0;\n    for(var i=0; i<combinations.length;i++){\n        var arr=[[],[]];\n        arr[0]=combinations[i]\n        //console.log(combinations[i]);\n        for(var j=0;j<secondMatrix[1].length;j++){\n            if(arrayContainsArray(secondMatrix[1][j],combinations[i])){\n               arr[1].push(secondMatrix[0][j]); \n                //console.log(combinations[i],secondMatrix[0][j])\n            }\n        }\n        return_Array[count]=arr;\n        count++;\n    }\n   return subsetRemover(return_Array);\n}\n//------------------------------------------------------------------------------------------------------ subsetRemover\nexport function subsetRemover(grouped_datasets){\n    var subsetRemovedArray = grouped_datasets;\n    var return_Array=[];\n    var len=subsetRemovedArray.length;\n    for(var i=0;i<len;i++){\n        for(var j=i+1;j<len;j++){\n            if(typeof subsetRemovedArray[j] !== 'undefined' & typeof subsetRemovedArray[i] !== 'undefined'){\n            if((JSON.stringify(subsetRemovedArray[i][1])) === JSON.stringify(subsetRemovedArray[j][1])){\n                delete subsetRemovedArray[j];\n            }\n        else{\n            \n            }\n        }\n    } \n    }\n    for(var i=0;i<subsetRemovedArray.length;i++){\n        if(typeof subsetRemovedArray[i] !== 'undefined'){\n            if(subsetRemovedArray[i].length>0){\n                return_Array.push(subsetRemovedArray[i]);\n            }\n        }\n}\nreturn return_Array;\n}"]},"metadata":{},"sourceType":"module"}